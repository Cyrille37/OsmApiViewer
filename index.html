<!doctype html>
<html lang="fr">
	<head>
		<title>OsmApiViewer</title>
		<meta charset="utf-8"/>
		<meta name="viewport" content="width=device-width, initial-scale=1.0"/>

		<link href="/css/bootstrap.min.css" rel="stylesheet">
		<link href="/css/bootstrap-theme.min.css" rel="stylesheet">
		<link href="css/leaflet.css" rel="stylesheet" media="screen"/>
		<!--[if lte IE 8]>
			<link rel="stylesheet" href="js/leaflet.ie.css" />
		<![endif]-->
		<link href="css/MarkerCluster.Default.css" rel="stylesheet" media="screen"/>
		<link href="css/MarkerCluster.css" rel="stylesheet" media="screen"/>
		<style>
		</style>
		<link rel="stylesheet" href="/css/osmApiViewer.css">
	</head>
	<body>

	<div class="tree">
		<ul>
			<li>
				<span><i class="glyphicon glyphicon-folder-open"></i> &nbsp; Categorie 1</span>
				<ul>
					<li class="oav-data" data-queryType="xapi" data-query="node[highway=crossing]">
						<a href="javascript:void(0)" class="oav-dataselect">
							<i class="glyphicon glyphicon-ok-circle"></i>
							Passages piétons</a>
						<a href="javascript:void(0)" class="oav-datasettings">
							<i class="glyphicon glyphicon-cog"></i></a>
					</li>
					<li class="oav-data" data-queryType="xapi" data-query="node[amenity=bench]">
						<a href="javascript:void(0)" class="oav-dataselect">
							<i class="glyphicon glyphicon-ok-circle"></i>
							Bancs</a>
						<a href="javascript:void(0)" class="oav-datasettings">
							<i class="glyphicon glyphicon-cog"></i></a>
					</li>
				</ul>
			</li>
		</ul>
	</div>

	<div id="map"></div>

	<div id="popover-content" style="display: none;" role="tooltip" >
		<h3 class="popover-title"></h3>
		<div >
			<form name="dataSettingsForm" role="form" method="post" action="">
				<div class="form-group" >
						<label for="dataSettingName">Nom :</label>
						<input type="text" id="dataSettingName" name="dataSettingName" class="form-control" />
				</div>
				<div class="form-group" >
					<label for="dataSettingQueryType">Type de requête :</label>
					<select type="select" id="dataSettingQueryType" name="dataSettingQueryType" class="form-control" >
						<option value ="xapi">XAPI</option>
						<option value ="xapi">OAPI</option>
					</select>
					<p class="help-block">Example block-level help text here.</p>
					<label for="dataSettingQuery">Requête :</label>
					<textarea id="dataSettingQuery" name="dataSettingQuery" class="form-control" ></textarea>
				</div>
				<div class="form-group" >
					<input type="button" name="apply" value="Appliquer" class="btn btn-success save" />
					<input type="button" name="cancel" value="Annuler" class="btn btn-info btn-sm cancel" />
				</div>
			</form>
		</div> 
	</div>

	<script src="//code.jquery.com/jquery-1.11.1.min.js"></script>
	<script>window.jQuery || document.write('<script src="js/jquery-1.11.0.min.js"><\/script>')</script>
	<script src="js/bootstrap.min.js"></script>
	<script src="js/leaflet.js"></script>
	<script src="js/leaflet.markercluster.js"></script>

	<script src="js/osmtogeojson.js"></script>
	<script src="js//md5.min.js"></script>
	<script src="js/OsmApiViewer.js"></script>
	<script>
		var oav ;
		$(function() {
			oav = new OsmApiViewer( {
				mapId: 'map'
			});
		});

		$('a.oav-datasettings').popover({
			html: 'true',
			placement: 'right',
			container: 'body',
			content : function() {
				return $('#popover-content').html();
			}
		}).on('show.bs.popover', function (e) {

		}).on('shown.bs.popover', function (e) {

			// Bootstrap add an attribute 'aria-describedby' which contains the popup id.
			var p = $('#' + $(e.target).attr('aria-describedby'));

			//p.resizable();

			p.find('input.cancel').click(function (e) {
				p.popover('hide');
			});
			p.find('input.save').click(function (e) {
				p.popover('hide');
			});
		});



	</script>
	</body>
</html>
